"""
Merge Intervals - Объединение пересекающихся интервалов

Алгоритм решения:
1. Сортируем интервалы по начальной позиции
2. Инициализируем результат первым интервалом
3. Проходим по остальным интервалам:
   - Если текущий интервал пересекается с последним в результате:
     - Объединяем их, обновляя конец последнего интервала
   - Иначе добавляем текущий интервал в результат
4. Возвращаем объединенные интервалы
"""

class Solution:
    def merge(self, intervals: list[list[int]]) -> list[list[int]]:
        if not intervals:
            return []
        
        # Сортируем интервалы по начальной позиции
        intervals.sort(key=lambda x: x[0])
        
        result = [intervals[0]]
        
        for current in intervals[1:]:
            # Проверяем, пересекается ли текущий интервал с последним в результате
            if current[0] <= result[-1][1]:
                # Объединяем интервалы
                result[-1] = [result[-1][0], max(result[-1][1], current[1])]
            else:
                # Добавляем новый интервал
                result.append(current)
        
        return result